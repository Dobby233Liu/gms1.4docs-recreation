<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>mp_potential_step</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../style.css" type="text/css"
media="screen" title="style" charset="utf-8">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "dadiospice/002_reference/movement and collisions/motion planning/mp_potential_step.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2Fdadiospice%2F002_reference%2Fmovement%20and%20collisions%2Fmotion%20planning%2Fmp_potential_step.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2Fdadiospice%2F002_reference%2Fmovement%20and%20collisions%2Fmotion%20planning%2Fmp_potential_step.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h1 class="studio">mp_potential_step</h1>

<h2 class="studio">This function moves an instance towards a point
avoiding obstacles.</h2>

<h3 class="studio">Syntax:</h3>

<p class="code">mp_potential_step(xgoal, ygoal, stepsize,
checkall)</p>

<p><br>
</p>

<div class="param">
<table>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>

<tr>
<td>xgoal</td>
<td>The target x position.</td>
</tr>

<tr class="alt">
<td>ygoal</td>
<td>The target y position.</td>
</tr>

<tr>
<td>stepsize</td>
<td>The speed the instance moves in pixels per step.</td>
</tr>

<tr class="alt">
<td>checkall</td>
<td>Whether to check all instances (true) or just solid ones
(false).</td>
</tr>
</table>
</div>

<p><br>
</p>

<p><b>Returns:</b> Boolean.</p>

<p><br>
</p>

<h3 class="studio">Description</h3>

<p>This function lets the instance take a step towards a particular
position defined by xgoal/ygoal, all the while trying to avoid
obstacles. When the instance would run into a solid instance (or
any instance when checkall is true) it will change the direction of
motion to try to avoid that instance and move around it. This
approach is not guaranteed to work but in most easy cases it will
effectively move the instance towards the goal. The function
returns whether the goal was reached or not.<br>
<br></p>

<p><br>
</p>

<h3 class="studio">Example:</h3>

<p class="code">if instance_exists(obj_Enemy)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;var inst;<br>
&nbsp;&nbsp;&nbsp;inst = instance_nearest(x, y, obj_Enemy);<br>
&nbsp;&nbsp;&nbsp;mp_potential_step(inst.x, inst.y, 5, false);<br>
&nbsp;&nbsp;&nbsp;}<br></p>

<p>The above code first checks to see if there are any instances of
"obj_Enemy" in the room. If there are it then finds the nearest one
and stores its id in a variable. This variable is then used to tell
<tt>mp_potential_step</tt> to move the instance with the code
towards the x/y position of the object that was found at a speed of
5 pixels per step while avoiding only instances flagged as
solid.</p>

<p><br>
</p>

<div class="clear">
<div style="float:left">Back: <a href="index.html">Motion
Planning</a></div>

<div style="float:right">Next: <a href=
"mp_potential_step_object.html">mp_potential_step_object</a></div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
