<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Load/Save Event</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../style.css" type="text/css"
media="screen" title="style" charset="utf-8">
<link rel="stylesheet" href="../../../../files/helpindex.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "dadiospice/001_advanced use/more about async events/load and save.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../index.html?page=source%2Fdadiospice%2F001_advanced%20use%2Fmore%20about%20async%20events%2Fload%20and%20save.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../index.html?page=source%2Fdadiospice%2F001_advanced%20use%2Fmore%20about%20async%20events%2Fload%20and%20save.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h1 class="studio">Load/Save Event</h1>

<h2 class="studio">This is the sub event that will be triggered by
certain loading and saving functions.</h2>

<p>This event will be triggered by certain functions related to
loading and saving buffers to files, as well as when loading or
unloading audio from memory. The event itself will contain the
built in <tt>async_load</tt> DS map which will be populated by the
keys required for the specific function. These are listed
below.</p>

<blockquote><i><b>NOTE:</b> The variable <tt>async_load</tt> is
only valid in the asynchronous events, as the ds_map that is points
to is created at the start of the event, then deleted again at the
end, with this variable being reset to a value of -1 for all other
events.</i>
</blockquote>

<h3 class="studio">Buffers</h3>

<p>When you use the functions <a href=
"../../002_reference/buffers/buffer_save_async.html"><tt>buffer_save_async()</tt></a>
or <a href=
"../../002_reference/buffers/buffer_load_async.html"><tt>buffer_load_async()</tt></a>
an asynchronous event will be triggered when the data transfer has
been completed. This event will populate the <tt>async_load</tt>
map with the following key/value pairs</p>

<blockquote>
<ol>
<li><b>"id":</b> the ID of the async function as returned by the
function used.</li>

<li><b>"status":</b> will return <tt>true</tt> if the data was
saved/loaded correctly, and <tt>false</tt> otherwise.</li>
</ol>
</blockquote>

<p>This permits you to poll the saving/loading progress and display
a message or change rooms etc... when the process is complete.<br>
<br></p>

<h3 class="studio">Audio Groups</h3>

<p>When working with <a href=
"../../002_reference/game%20assets/sounds/index.html">Audio
Groups</a>, you can load them an unload them from memory using the
functions <a href=
"../../002_reference/game%20assets/sounds/audio_group_load.html"><tt>
audio_group_load()</tt></a> and <a href=
"../../002_reference/game%20assets/sounds/audio_group_unload.html"><tt>
audio_group_unload()</tt></a>. When using the load function, it
will trigger this event when the full set of audio files set for
the group has been loaded into memory and will populate the map
with the following key/value pairs:</p>

<blockquote>
<ol>
<li><b>"type":</b> this tells us the type of event being called and
will be "<tt>audiogroup_load</tt>" for loading audio.</li>

<li><b>"group_id":</b> will return the ID of the audio group that
has been loaded (as defined in the <b>Global Game Settings</b>
<a href=
"../../001_advanced%20use/global%20game%20settings/audio%20groups%20tab.html">
Audio Groups Tab</a>)</li>
</ol>
</blockquote>

<p>When all audio has been loaded for a group, this event will
trigger and it can then be used to change rooms, or play a music
track etc...<br>
<br></p>

<p><br>
</p>

<div class="clear">
<div style="float:left">Back: <a href="index.html">More About Async
Events</a></div>

<div style="float:right">Next: <a href=
"audio%20recording.html">Audio Recording Event</a></div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
